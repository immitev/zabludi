<!DOCTYPE html>
<html lang="bg">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>–õ–æ–≥–∏—á–µ—Å–∫–∏ –∑–∞–±–ª—É–¥–∏</title>
        <meta name="description" content="–ù–∞—É—á–µ—Ç–µ –∑–∞ –ª–æ–≥–∏—á–µ—Å–∫–∏—Ç–µ –∑–∞–±–ª—É–¥–∏ –∏ –∫–∞–∫ –¥–∞ –≥–∏ —Ä–∞–∑–ø–æ–∑–Ω–∞–≤–∞—Ç–µ.">
        <meta name="keywords" content="–ª–æ–≥–∏—á–µ—Å–∫–∏ –∑–∞–±–ª—É–¥–∏, –ª–æ–≥–∏—á–µ—Å–∫–∏ –≥—Ä–µ—à–∫–∏, —Ñ–∞–ª—à–∏–≤–∏ –∞—Ä–≥—É–º–µ–Ω—Ç–∏, –∫—Ä–∏—Ç–∏—á–Ω–æ –º–∏—Å–ª–µ–Ω–µ, –∞—Ä–≥—É–º–µ–Ω—Ç–∏, –º–∞–Ω–∏–ø—É–ª–∞—Ü–∏—è, —Ä–∞—Ü–∏–æ–Ω–∞–ª–Ω–æ –º–∏—Å–ª–µ–Ω–µ">
        <meta name="author" content="–ò–≤–∞–Ω –ú–∏—Ç–µ–≤">
        <link rel="icon" type="image/png" href="favicon-32x32.png">
        <link rel="stylesheet" href="styles.css">
        <!-- Open Graph / Facebook -->
        <meta property="og:type" content="website">
        <!-- TODO yourwebsite.com -->
        <meta property="og:url" content="https://yourwebsite.com/">
        <meta property="og:title" content="–õ–æ–≥–∏—á–µ—Å–∫–∏ –∑–∞–±–ª—É–¥–∏">
        <meta property="og:description" content="–ù–∞—É—á–µ—Ç–µ –∑–∞ –ª–æ–≥–∏—á–µ—Å–∫–∏—Ç–µ –∑–∞–±–ª—É–¥–∏ –∏ –∫–∞–∫ –¥–∞ –≥–∏ —Ä–∞–∑–ø–æ–∑–Ω–∞–≤–∞—Ç–µ.">
        <meta property="og:image" content="https://yourwebsite.com/image.jpg">
        <!-- Twitter -->
        <meta property="twitter:card" content="summary_large_image">
        <meta property="twitter:url" content="https://yourwebsite.com/">
        <meta property="twitter:title" content="–õ–æ–≥–∏—á–µ—Å–∫–∏ –∑–∞–±–ª—É–¥–∏">
        <meta property="twitter:description" content="–ù–∞—É—á–µ—Ç–µ –∑–∞ –ª–æ–≥–∏—á–µ—Å–∫–∏—Ç–µ –∑–∞–±–ª—É–¥–∏ –∏ –∫–∞–∫ –¥–∞ –≥–∏ —Ä–∞–∑–ø–æ–∑–Ω–∞–≤–∞—Ç–µ.">
        <meta property="twitter:image" content="https://yourwebsite.com/image.jpg">
    </head>
<body>
    <header>
        <div class="container">
            <h1>–õ–æ–≥–∏—á–µ—Å–∫–∏ –∑–∞–±–ª—É–¥–∏</h1>
            <p>–õ–æ–≥–∏—á–µ—Å–∫–∞—Ç–∞ –∑–∞–±–ª—É–¥–∞/–≥—Ä–µ—à–∫–∞ –µ —Ç—Ä–∏–∫, –∫–æ–π—Ç–æ —Ç–µ –∫–∞—Ä–∞ –¥–∞ –º–∏—Å–ª–∏—à, —á–µ –Ω–µ—â–æ –µ –≤—è—Ä–Ω–æ, –∫–æ–≥–∞—Ç–æ –Ω–µ –µ. 
                <br>–î–∞ —Ç–µ "–ø–æ–¥—Ö–ª—ä–∑–≤–∞—Ç" —Å —Ñ–∞–ª—à–∏–≤–∏ –∞—Ä–≥—É–º–µ–Ω—Ç–∏ –µ –∫–∞—Ç–æ –¥–∞ —Ç–µ "—Ü–∞–∫–∞—Ç" —Å—ä—Å —Å—Ç—É–¥–µ–Ω–∞ –ø–∏—Ü–∞!
                <br>–ó–∞–ø–æ–∑–Ω–∞–π —Å–µ —Å 24 –æ—Ç –ø–æ-–∏–∑–≤–µ—Å—Ç–Ω–∏—Ç–µ –ª–æ–≥–∏—á–µ—Å–∫–∏ –∑–∞–±–ª—É–¥–∏, –ø–æ–ø—É–ª—è—Ä–∏–∑–∏—Ä–∞–Ω–∏ –≤ —Å–∞–π—Ç–∞ <a href="https://yourlogicalfallacyis.com/">Your Logical Fallacyis</a>.
                <br>–ü—Ä–∏–º–µ—Ä–∏—Ç–µ –ø–æ-–¥–æ–ª—É —Å–∞ –≤—Å–µ —Å –ø–∏—Ü–∞, –∑–∞—â–æ—Ç–æ –≤—Å–∏—á–∫–∏ ‚ô• –ø–∏—Ü–∞ üçï. –ù–∞–ª–∏? –•–º–º, –¥–∞–ª–∏ —Ç–æ–≤–∞ –Ω–µ –µ –ª–æ–≥–∏—á–µ—Å–∫–∞ –∑–∞–±–ª—É–¥–∞? –ò –∞–∫–æ "–¥–∞", –∫–∞–∫–≤–∞? ü§î
            </p>
        </div>
    </header>

    <main>
        <section class="cards-container">
            <!-- Cards will be dynamically loaded here -->
        </section>
    </main>

    <footer>
        <div class="container">
            <p>–õ–æ–≥–∏–∫–∞—Ç–∞ –µ —Å—É–ø–µ—Ä—Å–∏–ª–∞ üí™ —Å—Ä–µ—â—É –≤—Å—è–∫–∞–∫–≤–∏ —Å—ä–∑–Ω–∞—Ç–µ–ª–Ω–∏ –∏–ª–∏ –Ω–µ—Å—ä–∑–Ω–∞—Ç–µ–ª–Ω–∏ –º–∞–Ω–∏–ø—É–ª–∞—Ü–∏–∏!
                <br>–ù–æ —Å –≥–æ–ª—è–º–∞—Ç–∞ —Å–∏–ª–∞ –∏–¥–≤–∞ –∏ –≥–æ–ª—è–º–∞—Ç–∞ –æ—Ç–≥–æ–≤–æ—Ä–Ω–æ—Å—Ç! –í —Å–ø–æ—Ä–æ–≤–µ, –Ω–∞–±–ª—è–≥–∞–π –Ω–∞ üß† —Ä–∞—Ü–∏–æ–Ω–∞–ª–Ω–∏ –∞—Ä–≥—É–º–µ–Ω—Ç–∏ –∏ –∏–∑–±—è–≥–≤–∞–π üõë —Ñ–∞–ª—à–∏–≤–∏—Ç–µ –∞—Ä–≥—É–º–µ–Ω—Ç–∏!</p>
        </div>
    </footer>

    <script>
        function createValidId(cyrillicText) {
            const transliterationMap = {
                "–∞": "a", "–±": "b", "–≤": "v", "–≥": "g", "–¥": "d", "–µ": "e", "–∂": "zh", "–∑": "z", "–∏": "i",
                "–π": "y", "–∫": "k", "–ª": "l", "–º": "m", "–Ω": "n", "–æ": "o", "–ø": "p", "—Ä": "r", "—Å": "s",
                "—Ç": "t", "—É": "u", "—Ñ": "f", "—Ö": "h", "—Ü": "ts", "—á": "ch", "—à": "sh", "—â": "sht",
                "—ä": "a", "—ã": "y", "—å": "", "—é": "yu", "—è": "ya",
                "–ê": "A", "–ë": "B", "–í": "V", "–ì": "G", "–î": "D", "–ï": "E", "–ñ": "Zh", "–ó": "Z", "–ò": "I",
                "–ô": "Y", "–ö": "K", "–õ": "L", "–ú": "M", "–ù": "N", "–û": "O", "–ü": "P", "–†": "R", "–°": "S",
                "–¢": "T", "–£": "U", "–§": "F", "–•": "H", "–¶": "Ts", "–ß": "Ch", "–®": "Sh", "–©": "Sht",
                "–™": "A", "–´": "Y", "–¨": "", "–Æ": "Yu", "–Ø": "Ya"
            };

            // Replace each Cyrillic character with its corresponding Latin equivalent
            const latinText = cyrillicText.split('').map(char => transliterationMap[char] || char).join('');

            // Replace spaces with dashes, and ensure the result is lowercase
            const validId = latinText.replace(/\s+/g, '-').toLowerCase();

            return validId;
        }

        function scrollToAnchor() {
            const hash = window.location.hash; // Get the fragment (e.g., #dvusmislie)
            if (hash) {
                const target = document.querySelector(hash);
                if (target) {
                    // Scroll to the element
                    target.scrollIntoView({ behavior: 'smooth' });

                    // Add a highlight effect
                    target.classList.add('highlight-frame');
                    setTimeout(() => {
                        target.classList.remove('highlight-frame');
                    }, 3000);
                }
            }
        }


        async function loadCards() {
            const response = await fetch('data.json');
            const data = await response.json();
            const container = document.querySelector('.cards-container');

            data.forEach(card => {
                const cardElement = document.createElement('div');
                cardElement.classList.add('card');
                const cardId = createValidId(card.title);
                cardElement.setAttribute('id', cardId); 
                cardElement.innerHTML = `
                    <h2 style="display: flex; justify-content: space-between; align-items: center;">
                        ${card.title}
                        <button onclick="navigator.share({url: window.location.origin + window.location.pathname + '#' + '${cardId}', text: '${card.title}', title: '${card.title}'})" style="border: none; background: none; cursor: pointer; padding: 4px;">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <circle cx="18" cy="5" r="3"/>
                                <circle cx="6" cy="12" r="3"/>
                                <circle cx="18" cy="19" r="3"/>
                                <line x1="8.59" y1="13.51" x2="15.42" y2="17.49"/>
                                <line x1="15.41" y1="6.51" x2="8.59" y2="10.49"/>
                            </svg>
                        </button>
                    </h2>
                    <div class="english">
                        ${card.english}
                    </div>
                    <p>${card.description}</p>
                    <div class="example">
                        <strong>–ü—Ä–∏–º–µ—Ä:</strong> ${card.example}
                    </div>
                    <div class="explanation">
                        <strong>–ó–∞–±–ª—É–¥–∞—Ç–∞:</strong> ${card.explanation}
                    </div>
                    <a href="https://rationalwiki.org/wiki/${card.link}" class="btn">–ù–∞—É—á–∏ –ø–æ–≤–µ—á–µ (–∞–Ω–≥–ª–∏–π—Å–∫–∏)</a>
                `;
                container.appendChild(cardElement);
            });

            // Scroll after the dynamic content has been created
            scrollToAnchor();
        }

        document.addEventListener('DOMContentLoaded', loadCards);

        // Handle navigation clicks dynamically as well
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({ behavior: 'smooth' });
                }
            });
        });

    </script>
</body>
</html>
